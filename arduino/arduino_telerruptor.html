<!DOCTYPE html>
<html lang="es">

<head>
<link href="index_files/estiloarduino.css" rel="stylesheet" type="text/css">
<link href="index_files/menu.css" rel="stylesheet" type="text/css">
<meta charset="UTF-8">
<title>arduino</title>

<meta content="profesorfg" name="author">
<meta content="profesorfg enlaces" name="description">
<meta name="keywords" content="profesorfg enlaces"></head>
<body style="margin-top: 0px; height: 598px;">
<!-- Comentario -->
<div id="contenedor"><!-- ............................Contendor....................... --><!-- -----------------menu superior............................................ -->
<div id="menusuperior">
<script language="javascript=" type="text/javascript" src="index_files/menu_general.js"></script></div>
<!-- ........................menu izquierda.............................-->
<div id="izquierda">
<script language="javascript=" type="text/javascript" src="index_files/menuizq.js"></script><br>
<br>
<br>
<br>
</div>
<!-- ............................contenido central................... -->
<div id="derecha"> 
<br>
<br>
<br>
<br>
<br>
<br>

<small style="background-color: transparent; color: rgb(255, 255, 51);"><em><big style="font-weight: bold; font-style: italic;"><big><big>TELERRUPTOR</big></big></big></em></small><br>Con cada pulsación los led cambian de estado.<br>
<ul id="mozToc">
</ul><br>
<a href="%20https://www.tinkercad.com/things/7DfJOJaPwtQ"><img style="border: 0px solid ; width: 673px; height: 463px;" alt="Telerruptor" src="imagenes/arduino_telerruptor.png"></a><br><br><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;/*Con&nbsp; pulsador 1 enciendo y apago el led verde, con el dos el amarillo y con el tres el rojo y amariillo2</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">al pulsar una vez el pulsador no responde hasta 0,5 segundos despues</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">para eliminar rebotes y dar tiempo a soltar</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">*/</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledverde=12;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledamarillo=11;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledrojo=10;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledverde1=9;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int pulsador1=5;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int pulsador2=6;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int pulsador3=7;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_1;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean flanco1=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_2;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean flanco2=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_3;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean flanco3=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledV; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledA; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledR; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledV1; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">void setup(){</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledverde,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledamarillo,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledrojo,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledverde1,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(pulsador1,INPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(pulsador2,INPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(pulsador3,INPUT);</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; Serial.begin(9600);&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">}</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; void loop(){</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; //leemos el estado de las entradas</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_1=digitalRead(pulsador1);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_2=digitalRead(pulsador2);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_3=digitalRead(pulsador3);</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; //leemos el estado de la salidas</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledV=digitalRead(ledverde);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledA=digitalRead(ledamarillo);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledR=digitalRead(ledrojo);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledV1=digitalRead(ledverde1);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; //PULSADOR 1</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_1==LOW) flanco1=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_1==HIGH &amp;&amp; flanco1==0)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flanco1=1;// al activarse flanco a uno en el siguiente ciclo no se ejecuta la condicion.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ledV=!ledV;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledverde,ledV);// como el led estaba encendido lo apago. </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; //PULSADOR 2</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_2==LOW) flanco2=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_2==HIGH &amp;&amp; flanco2==0)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flanco2=1;// al activarse flanco a uno en el siguiente ciclo no se ejecuta la condicion.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ledA=!ledA;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledamarillo,ledA);// como el led estaba encendido lo apago. </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp; //PULSADOR 3</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_3==LOW) flanco3=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_3==HIGH &amp;&amp; flanco3==0)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flanco3=1;// al activarse flanco a uno en el siguiente ciclo no se ejecuta la condicion.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ledR=!ledR;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; ledV1=!ledV1;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledrojo,ledR);// como el led estaba encendido lo apago. </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledverde1,ledV1);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; }//fin de programa</span><br><br><h1>TELERRUPTOR &nbsp;Y ANTIRREBOTES</h1>Para
evitar que en el momento de la pulsación se realizen lecturas erroneas
por rebotes, realizo 2 lecturas en un intervalos de 20ms, si son
igulales, considero que la lectura es correcta.<br><br><a href="%20https://www.tinkercad.com/things/3XnvPgpDM6j%20"><img style="border: 0px solid ; width: 673px; height: 463px;" alt="telerruptor y antirrebotes" src="imagenes/arduino_telerruptor.png"></a><br><br>&nbsp;<span style="color: rgb(255, 204, 102);">/*Con&nbsp; pulsador 1 enciendo y apago el led verde, con el dos el amarillo y con el tres el rojo y amariillo2</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">al pulsar una vez el pulsador no responde hasta 0,5 segundos despues</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">para eliminar rebotes y dar tiempo a soltar</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">*/</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledverde=12;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledamarillo=11;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledrojo=10;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int ledverde1=9;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int pulsador1=5;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int pulsador2=6;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">int pulsador3=7;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_1;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean flanco1=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_2;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean flanco2=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_3;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean flanco3=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledV; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledA; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledR; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean ledV1; //ver el estado del led</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; //Eliminacion de rebotes</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; //variables para eliminar rebotes</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_1a;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_1b;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_2a;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_2b;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_3a;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; boolean pul_3b; </span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;
unsigned int tiempo_ciclo=20;// la duracion en la que va a producirse
el pulso,&nbsp; puede oscilar entre 65536 ms (65 segundos.)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; unsigned long tiempo_inicio=0;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">void setup(){</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledverde,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledamarillo,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledrojo,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(ledverde1,OUTPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(pulsador1,INPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(pulsador2,INPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;pinMode(pulsador3,INPUT);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; </span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; Serial.begin(9600);&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">}</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; void loop(){</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">//elimitar los rebotes con dos lecturas de iguales en un intervalo de 20ms</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (tiempo_inicio==0) </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; tiempo_inicio=millis();//si la variable tiempo_inicio vale cero carga el valor de tiempo actual</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_1a=digitalRead(pulsador1);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_2a=digitalRead(pulsador2);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_3a=digitalRead(pulsador3);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;
if (millis()&gt;tiempo_inicio+tiempo_ciclo)// si el tiempo desde que
cargue la variable supera el tiempo cilclo</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">{</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_1b=digitalRead(pulsador1);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_2b=digitalRead(pulsador2);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; pul_3b=digitalRead(pulsador3);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">//si la lectura de los pulsadores en 20ms es igual la tomo como buena</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; if (pul_1a==pul_1b)pul_1=pul_1a;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; if (pul_2a==pul_2b)pul_2=pul_2a;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; if (pul_3a==pul_3b)pul_3=pul_3a;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">tiempo_inicio=0;// tiempo_inicio al ponerlo a 0, lca preparo para carga un nuevo tiempo.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;}</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; //leemos el estado de la salidas</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledV=digitalRead(ledverde);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledA=digitalRead(ledamarillo);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledR=digitalRead(ledrojo);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; ledV1=digitalRead(ledverde1);//0 apagado 1 encendido</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; //PULSADOR 1</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_1==LOW) flanco1=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_1==HIGH &amp;&amp; flanco1==0)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flanco1=1;// al activarse flanco a uno en el siguiente ciclo no se ejecuta la condicion.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ledV=!ledV;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledverde,ledV);// como el led estaba encendido lo apago. </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp; //PULSADOR 2</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_2==LOW) flanco2=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_2==HIGH &amp;&amp; flanco2==0)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flanco2=1;// al activarse flanco a uno en el siguiente ciclo no se ejecuta la condicion.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ledA=!ledA;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledamarillo,ledA);// como el led estaba encendido lo apago. </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp; //PULSADOR 3</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_3==LOW) flanco3=0;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;if (pul_3==HIGH &amp;&amp; flanco3==0)</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flanco3=1;// al activarse flanco a uno en el siguiente ciclo no se ejecuta la condicion.</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ledR=!ledR;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; ledV1=!ledV1;</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledrojo,ledR);// como el led estaba encendido lo apago. </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite (ledverde1,ledV1);</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp;&nbsp; </span><br style="color: rgb(255, 204, 102);"><span style="color: rgb(255, 204, 102);">&nbsp; }//fin de programa</span><br><br><h2>Tiempo y valor máximo de las variables</h2><br>
Y es que al utilizar la variables donde almaceno el tiempo, como int,
esta se me desborda a los pocos minutos de empezar a contar el
programa, y el problema de logica es que el valor de millis()
almacenado puede&nbsp; se negativo y aaggghhh,<br>
Simplifico almaceno el tiempo millis() en una variable que toma valores
solo positivos y me quito el problema de que al leer los millis() me
almacene un numero negativo.<br><br>
unsigned int tiempo=millis(); <br>
unsigned long tiempo=millis();<br>
unsigned float tiempo=millis();<br>
<br>
Nota: <br>
long almacena la variable en 4 bytes<br>
unsigned solo considera numeros positivos a partir de cero<br>
la variable almacenada puede tener un valor desde<br>
0 a 2<sup>32</sup>=4.294.967.296<br>
Como estamos contado milisegundos<br>
4294967,296 segundos<br>
divido por sesenta y obtengo los minutos<br>
71582788 minutos<br>
Divido por sesenta y obtengo las horas<br>
1193046 horas<br>
Divido por 24 y obtengo los dias<br>
49710 dias<br>
como millis se desborda aproximadamente a los 9 dias esta variable es mas que suficiente.<br>
<br>
<br>
<br>
<span style="color: rgb(153, 51, 0);"></span><br>
&nbsp;&nbsp; <br>
<br>
<br style="color: rgb(255, 204, 51);">
<span style="color: rgb(255, 204, 51);">&nbsp; </span><br>
<br>
<br>
</div>
<!-- .......................................menu arduino................................ -->
<div id="derechamenu"><br>
<script language="javascript=" type="text/javascript" src="index_files/menuarduino.js"></script><br>
<br>
<br>
<br>
</div>
<!-- .......................................pie................................ -->
<div id="pie">&nbsp;&nbsp; <br>
<div style="text-align: center;"> El mejor profesor es tu ultimo error.
</div>
</div>
<!-- ..................................fin contenedor..................................... -->
</div>

</body></html>